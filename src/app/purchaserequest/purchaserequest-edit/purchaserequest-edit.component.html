<div class='edit-box'>
  <div class="container center">
    <h1 class="display-4">{{title}}</h1>
  </div>
  <div *ngIf='!purchaserequest'>
    <img src='assets/loading.gif'>
  </div>
  <div *ngIf='purchaserequest'>
    <form #myForm="ngForm">
      <div class="form-group row">
        <label class='col-form-label col-sm-2' for="description">Description:</label>
        <div class="col-sm-8">
          <input [(ngModel)]='purchaserequest.description' name='description' type="text" class="form-control" id="description"
            #description="ngModel" required>
        </div>
        <div *ngIf="description.invalid && description.touched" class="col-form-label col-sm-2 text-danger">
          <label *ngIf="description?.errors.required">Required</label>
        </div>
      </div>
      <div class="form-group row">
        <label class='col-form-label col-sm-2' for="justification">Justification:</label>
        <div class="col-sm-8">
          <input [(ngModel)]='purchaserequest.justification' name='justification' type="text" class="form-control" id="justification"
            #justification="ngModel" required>
        </div>
        <div *ngIf="justification.invalid && justification.touched" class="col-form-label col-sm-2 text-danger">
          <label *ngIf="justification?.errors.required">Required</label>
        </div>
      </div>
      <div class="form-group row">
        <label class='col-form-label col-sm-2' for="dateNeeded">Date Needed:</label>
        <div class="col-sm-8">
          <input [(ngModel)]='purchaserequest.dateNeeded' name='dateNeeded' type="text" class="form-control" id="dateNeeded"
            #dateNeeded="ngModel" required pattern="\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])">
        </div>
        <div *ngIf="dateNeeded.invalid && dateNeeded.touched" class="col-form-label col-sm-2 text-danger">
          <label *ngIf="dateNeeded?.errors.required">Required</label>
          <label *ngIf="dateNeeded?.errors.pattern">YYYY-MM-DD</label>
        </div>
      </div>
      <div class="form-group row">
        <label class='col-form-label col-sm-2' for="deliveryMode">Delivery Mode:</label>
        <div class="col-sm-8">
          <input [(ngModel)]='purchaserequest.deliveryMode' name='deliveryMode' type="text" class="form-control" id="deliveryMode"
            #deliveryMode="ngModel" required>
        </div>
      </div>
      <div *ngIf="deliveryMode.invalid && deliveryMode.touched" class="col-form-label col-sm-2 text-danger">
        <label *ngIf="deliveryMode?.errors.required">Required</label>
      </div>
      <div>
        <button (click)='save()' class='btn btn-primary' [disabled]="!myForm.valid">Update</button>
      </div>
    </form>
  </div>
</div>